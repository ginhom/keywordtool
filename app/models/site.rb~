#coding: utf-8
class Site < ActiveRecord::Base
  include SearchEngine
  validates_presence_of :name,:keywords,:message=>"不能空白"
  validates_length_of :label,maximum=>15,:message=>"不能超过15个字"

  has_many:site_results
  attr_accessible :keywords, :name,:label,:search_engines

  def search_rank(*search_engines)
  	search_engines.each do |search_engine|
	  	case search_engine
	  		when SearchEngine::GOOGLE
				GoogleKeyWordRange.new(self).search		    				
	  		when SearchEngine::BAIDU
	  			BaiDuKeyWordRange.new(self).search 					  			  				  		
	  	end
	end
  end

end
